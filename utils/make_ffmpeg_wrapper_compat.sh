#!/bin/bash
h2xml.py -c -I/usr/include/ffmpeg-compat/libavcodec -I/usr/include/ffmpeg-compat/libavformat -I/usr/include/ffmpeg-compat/libavdevice -I/usr/include/ffmpeg-compat/libswscale -I/usr/include/ffmpeg-compat/libavfilter -I/usr/include/ffmpeg-compat/libpostproc /usr/include/ffmpeg-compat/libavcodec/avcodec.h /usr/include/ffmpeg-compat/libavformat/avformat.h /usr/include/ffmpeg-compat/libswscale/swscale.h /usr/include/ffmpeg-compat/libavdevice/avdevice.h /usr/include/ffmpeg-compat/libavfilter/avfilter.h /usr/include/ffmpeg-compat/libpostproc/postprocess.h -o av.xml -D __STDC_CONSTANT_MACROS
xml2py av.xml -o av.py -l /usr/lib/ffmpeg-compat/libavcodec.so -l /usr/lib/ffmpeg-compat/libavformat.so -l /usr/lib/ffmpeg-compat/libswscale.so -l /usr/lib/ffmpeg-compat/libavdevice.so -l /usr/lib/ffmpeg-compat/libavfilter.so -l /usr/lib/ffmpeg-compat/libpostproc.so
sed -i 's/\([[:digit:]]\)L\>/\1/g' av.py
